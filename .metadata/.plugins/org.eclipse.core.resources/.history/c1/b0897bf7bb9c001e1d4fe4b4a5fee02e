package com.employee.pkg.service;

import org.springframework.beans.factory.annotation.Autowired;
import com.employee.pkg.entity.Employee;
import com.employee.pkg.repository.EmpRepository;
import com.employee.pkg.util.EmpUtil;

import lombok.extern.slf4j.Slf4j;

@Slf4j
public class EmpServiceImpl implements EmpService{
	
	@Autowired
	EmpUtil empUtil;

	@Autowired
	EmpUtil util;
	
	@Autowired
	EmpRepository repo;
	
	@Override
	public Employee resister(Employee e) {
		log.info("Employee resistation is send to the validation");
		boolean Empvld = empUtil.validate(e);
		if(Empvld==true) {
			log.info("Employee resistration is done");
		}
		else {
			log.info("Employee resistration is not done");
		}
		
		int Id = util.setId();
		e.setEmpId(Id);
		
		String Date = util.setDate();
		e.setEmpDate(Date);
		
		String Time = util.setTime();
		e.setEmpTime(Time);
		
		Employee EmployeeDetiles = repo.save(e);
		
		return EmployeeDetiles;
	}

}
